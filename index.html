<!DOCTYPE html>
<html>
<head>
     <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://libs.zappar.com/zappar-aframe/2.0.0/zappar-aframe.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/c-frame/aframe-extras@7.2.0/dist/aframe-extras.min.js"></script>
      <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>

    <meta charset="utf-8" />
    <title>A-Frame Business Card Example</title>
    <style>
        html,
        body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
        }
    </style>

    <script>
        AFRAME.registerComponent("visibility-changer", {
            init: function () {
                this.el.setAttribute("visible", false)
                this.el.sceneEl.addEventListener('zappar-visible', () => this.el.setAttribute("visible", true));
            }
        });
    </script>
</head>
<body>
    <a-scene loading-screen="backgroundColor: #344A60" embedded arjs>
         <a-entity zappar-permissions-ui id="permissions"></a-entity>
         <a-entity zappar-compatibility-ui id="compatibility"></a-entity>
        <a-camera zappar-camera cursor="rayOrigin: mouse; fuse: false;" raycaster="objects: .collidable"></a-camera>
        <a-entity zappar-image="target: assets/BusinessCard.zpt">
            <a-entity visibility-changer>
                <a-entity id="bolt" animation-mixer repeat Infinity gltf-model="assets/Rendu/Screen3D.glb" class="collidable" position="0 0 0" rotation="0 -90 -90" scale=".35 .35 .35" sound="src: url(assets/zapsplat_laser.mp3); on: click;"></a-entity>
            </a-entity>
        </a-entity>
    </a-scene>
</body>

</html>
